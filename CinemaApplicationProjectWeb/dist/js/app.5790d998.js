(function(t){function e(e){for(var a,o,i=e[0],c=e[1],l=e[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],a=!0,i=1;i<r.length;i++){var c=r[i];0!==s[c]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},s={app:0},n=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},"1c53":function(t,e,r){"use strict";r("aae5")},"1da2":function(t,e,r){},"22e8":function(t,e,r){"use strict";r("5731")},"2f5f":function(t,e,r){"use strict";r("e8cb")},"4b94":function(t,e,r){"use strict";r("1da2")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("cabf");var a=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"background"}},[r("Slider"),r("NavbarComponent"),r("div",{attrs:{id:"app"}},[r("router-view")],1)],1)},n=[],o=(r("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"slider"}},[a("div",[a("transition-group",{attrs:{name:"fade",tag:"div"}},t._l([t.currentIndex],(function(t){return a("div",{key:t,staticClass:"container col-sm-7"},[a("img",{attrs:{src:r("cf05"),alt:""}})])})),0)],1)])}),i=[],c={name:"Slider",data:function(){return{images:["https://cdn.pixabay.com/photo/2015/12/12/15/24/amsterdam-1089646_1280.jpg","https://cdn.pixabay.com/photo/2016/02/17/23/03/usa-1206240_1280.jpg","https://cdn.pixabay.com/photo/2015/05/15/14/27/eiffel-tower-768501_1280.jpg","https://cdn.pixabay.com/photo/2016/12/04/19/30/berlin-cathedral-1882397_1280.jpg"],timer:null,currentIndex:0}},mounted:function(){},methods:{startSlide:function(){this.time=setInterval(this.next,4e3)},next:function(){this.currentIndex+=1},prev:function(){this.currentIndex-=1}},computed:{currentImg:function(){return this.images[Math.abs(this.currentIndex)%this.images.length]}}},l=c,u=(r("2f5f"),r("2877")),d=Object(u["a"])(l,o,i,!1,null,"1a9e6688",null),m=d.exports,p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-navbar",{staticClass:"col-sm-7 mx-auto mt-3 text-dark border b-1 border-dark",attrs:{toggleable:"sm",type:"dark",variant:"warning",align:"center"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[r("b-navbar-brand",{staticClass:"text-dark"},[t._v("Cinema Application")]),r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",[r("b-nav-item",{attrs:{to:"/"}},[r("div",{staticClass:"text-dark"},[t._v("Home")])]),r("b-nav-item",{attrs:{to:"/movies"}},[r("div",{staticClass:"text-dark"},[t._v("Movies")])]),r("b-nav-item",{attrs:{to:"/program"}},[r("div",{staticClass:"text-dark"},[t._v("Programs")])])],1),r("b-navbar-nav",{staticClass:"ml-auto",attrs:{align:"center"}},[t.user?r("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[r("b-avatar",{staticClass:"mr-2",attrs:{variant:"light"}}),r("span",[t._v(t._s(t.user.userName))])]},proxy:!0}],null,!1,1231982842)},[r("b-dropdown-item",{on:{click:t.clickItem}},[t._v("Log out")])],1):r("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[r("em",[t._v("User")])]},proxy:!0}])},[r("b-dropdown-item",{attrs:{to:"/login"}},[t._v("Login")]),r("b-dropdown-item",{attrs:{to:"/sign"}},[t._v("Sign Up")])],1)],1)],1)],1)],1)},g=[],h=(r("b0c0"),r("2f62")),f=r("bc3a"),v=r.n(f),b={name:"NavbarComponent",data:function(){return{active:""}},computed:Object(h["b"])({user:function(t){return t.user}}),created:function(){this.active=this.$route.name.toLowerCase()},methods:{clickItem:function(){var t=this;v.a.get("https://cinemaapplication.azurewebsites.net//api/Users/logout/",{withCredentials:!0}).then((function(e){200===e.status&&(t.$router.push({name:"Home",path:"/"}),t.$store.dispatch("setUser",e.data))})).catch((function(){}))}}},C=b,w=Object(u["a"])(C,p,g,!1,null,"444ec30a",null),x=w.exports,_={name:"App",components:{Slider:m,NavbarComponent:x},data:function(){return{windowHeight:window.innerWidth,txt:"",number:6}},watch:{windowHeight:function(t,e){this.txt="it changed to ".concat(t," from ").concat(e)}},methods:{onResize:function(){this.windowHeight=window.innerHeight}}},y=_,k=(r("034f"),Object(u["a"])(y,s,n,!1,null,null,null)),E=k.exports,M=r("8c4f"),S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-sm-7 mx-auto p-10"},[t.loading?r("div",{staticClass:"text-center"},[r("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"warning",label:"Text Centered"}})],1):r("div",[0==!t.error.length?r("ErrorCard",{attrs:{"error-message":t.error}}):t._l(t.movies,(function(t){return r("Card",{key:t.id,attrs:{element:t,site:"Main"}})}))],2)])},N=[],$=(r("d3b7"),r("159b"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{staticClass:"mb-3 bg-warning text-dark h-25 border-dark rounded-30 mh-10",attrs:{"img-src":t.element.image,center:"","img-alt":"Card image","img-left":"","img-width":"200"}},[r("b-card-title",[r("router-link",{staticClass:"text-dark text-decoration-none",attrs:{to:"movie/"+t.element.id}},[r("div",[t._v(t._s(t.element.title)+" "),t.element.length!=t.nil?r("span",[t._v("("+t._s(t.element.length)+" min)")]):t._e()])])],1),"Main"!=t.site?r("b-card-text",[t._v(" Length: "+t._s(t.element.length)+" ")]):t._e(),r("b-card-text",[t._v(" Actors: "+t._s(t.actorsList)+" ")]),r("b-card-text",{staticClass:"short-text"},[t._v(" "+t._s(t.element.description)+" ")]),"Main"===t.site?r("div",[r("b-button",{staticClass:"border border-1 border-dark circle",attrs:{variant:"warning"},on:{click:function(e){t.visible=!t.visible}}},[t._v("Tonight's availability")]),r("b-collapse",{attrs:{visible:!t.visible}},[r("v-card-text",[r("div",{staticClass:"vertical-scroll"},[r("v-chip-group",{attrs:{"active-class":"orange accent-4 white--text",column:""}},[r("router-link",{staticClass:"text-decoration-none",attrs:{to:"reserve/1"}},t._l(t.element.shows,(function(e){return r("v-chip",{key:e.date},[t._v(" "+t._s(t.timeChange(e.date))+" ")])})),1)],1)],1)])],1)],1):t._e()],1)}),P=[],O=(r("fb6a"),{props:["element","site"],data:function(){return{visible:"false",actorsString:""}},computed:{actorsList:function(){var t,e=this;return this.clearString(),null===(t=this.element)||void 0===t||t.actors.forEach((function(t){e.actorsString=e.actorsString.concat("",t.name,", ")})),this.actorsString.slice(0,-2)}},methods:{clearString:function(){this.actorsString=""},asd:function(){this.visible=this.visible?"false":"true"},timeChange:function(t){var e=new Date(t);return e.getMinutes()<10?e.getHours()+":0"+e.getMinutes():e.getHours()+":"+e.getMinutes()}}}),j=O,U=(r("fca3"),r("6544")),T=r.n(U),I=r("99d9"),z=r("cc20"),A=r("ef9a"),D=Object(u["a"])(j,$,P,!1,null,"55089217",null),L=D.exports;T()(D,{VCardText:I["a"],VChip:z["a"],VChipGroup:A["a"]});var H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{staticClass:"d-flex justify-content-center mb-3 bg-dark text-danger h-auto border-danger mh-10",attrs:{center:"","img-left":""}},[r("b-card-title",[t._v(" "+t._s(t.errorMessage)+" ")]),t.errorsList?r("b-card-text",[r("ul",t._l(t.errorsList,(function(e){return r("li",{key:e},[t._v(" "+t._s(e)+" ")])})),0)]):t._e()],1)},R=[],F={name:"Errorcard",props:["errorMessage","errorsList"],data:function(){return{}}},G=F,V=Object(u["a"])(G,H,R,!1,null,null,null),B=V.exports,W={name:"Home",components:{Card:L,ErrorCard:B},data:function(){return{movies:[],error:"",loading:!0}},created:function(){this.fetchShows()},methods:{fetchShows:function(){var t=this;v.a.get("https://cinemaapplication.azurewebsites.net//api/Movies/today").then((function(e){t.movies=e.data,console.log(t.movies),t.movies.forEach((function(t){var e="data:image/jpg;base64,"+t.image;t.image=e})),0===t.movies.length&&(t.error="No movies found today"),t.loading=!1})).catch((function(){t.error="Something went wrong on our side",t.loading=!1}))}}},Y=W,q=Object(u["a"])(Y,S,N,!1,null,null,null),J=q.exports,X=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loading?r("div",{staticClass:"text-center"},[r("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"warning",label:"Text Centered"}})],1):r("div",{staticClass:"col-sm-7 mx-auto"},[0==!t.error.length?r("ErrorCard",{attrs:{"error-message":t.error}}):r("div",[r("Category"),t._l(t.movies,(function(t){return r("Card",{key:t.title,attrs:{element:t}})}))],2)],1)},K=[],Q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex mx-auto bg-warning center container justify-content-center mb-5 p-2 border border-dark text-dark"},[r("div",[r("label",{staticClass:"mr-2 text-dark"},[t._v("Choose a category:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"col-sm-2 btn border border-dark text-dark mr-2 p-2 pt-1",attrs:{name:"cars",id:"cars"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category=e.target.multiple?r:r[0]},function(e){return t.changeCategory()}]}},t._l(t.categories,(function(e){return r("option",{key:e,staticClass:"text-dark",domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0),t._v(" or "),r("div",{staticClass:"d-inline ml-2 my-auto form-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"col-sm-3 btn form-control mr-sm-2 bg-warning border border-dark p-2 h-10",attrs:{type:"search",placeholder:"Type here","aria-label":"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),r("button",{staticClass:"btn btn-outline-dark",on:{click:function(e){return t.submitSearch()}}},[t._v(" Search ")])])])])},Z=[],tt=(r("ac1f"),r("841c"),r("d81d"),{data:function(){return{search:"",category:"",categories:[""]}},computed:Object(h["b"])({selectedCategory:function(t){return t.selectedCategory},searchText:function(t){return t.searchText}}),mounted:function(){this.fetchCategories(),this.category=this.$store.getters.getCategory,this.search=this.$store.getters.getText},methods:{fetchCategories:function(){var t=this;v.a.get("https://cinemaapplication.azurewebsites.net//api/Categories/all").then((function(e){e.data.map((function(t){return t.category})).forEach((function(e){return t.categories.push(e)}))}))},changeCategory:function(){this.$store.dispatch("setCategory",this.category),this.search="",this.$store.dispatch("setSearchText",this.search)},submitSearch:function(){this.$store.dispatch("setSearchText",this.search),this.category="",this.$store.dispatch("setCategory",this.category)},reserve:function(){var t=this;this.loading=!0,setTimeout((function(){return t.loading=!1}),2e3)}}}),et=tt,rt=Object(u["a"])(et,Q,Z,!1,null,null,null),at=rt.exports,st={name:"Movie",data:function(){return{cat:"",loading:!0,selection:1,movies:[],error:""}},computed:Object(h["b"])({selectedCategory:function(t){return t.selectedCategory},searchText:function(t){return t.searchText}}),watch:{selectedCategory:function(t){console,""===t.normalize()?this.fetchMovies():this.fetchMoviesByCategory()},searchText:function(t){""===t.normalize()?this.fetchMovies():this.fetchMoviesByTitlePart()}},components:{Category:at,Card:L,ErrorCard:B},created:function(){this.fetchMovies()},methods:{fetchMoviesByTitlePart:function(){var t=this;this.loading=!0,v.a.get("https://cinemaapplication.azurewebsites.net//api/Movies/title/"+this.searchText).then((function(e){t.movies=e.data,t.loading=!1,t.setMoviesImage()})).catch((function(){t.error="Something went wrong in our side",t.loading=!1}))},fetchMoviesByCategory:function(){var t=this;this.loading=!0,v.a.get("https://cinemaapplication.azurewebsites.net//api/Movies/category/"+this.selectedCategory).then((function(e){t.movies=e.data,t.loading=!1,t.setMoviesImage()})).catch((function(){t.error="Something went wrong in our side",t.loading=!1}))},fetchMovies:function(){var t=this;v.a.get("https://cinemaapplication.azurewebsites.net//api/Movies/").then((function(e){t.movies=e.data,t.setMoviesImage(),t.loading=!1})).catch((function(){t.error="Something went wrong in our side",t.loading=!1}))},setMoviesImage:function(){this.movies.forEach((function(t){var e="data:image/jpg;base64,"+t.image;t.image=e}))}}},nt=st,ot=Object(u["a"])(nt,X,K,!1,null,null,null),it=ot.exports,ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app-sudoku"}},[r("div",{staticClass:"col-sm-6 mx-auto"},[t.errorMessage.length>0?r("ErrorCard",{attrs:{"error-message":t.errorMessage,"errors-list":t.errors}}):t._e()],1),r("div",{staticClass:"col-sm-5 bg-warning center container justify-content-center mb-5 border border-dark text-dark p-2"},[r("div",[r("span",{staticClass:"mr-2 text-dark"},[t._v("Room:")]),r("span",[t._v(t._s(t.show.room.name))])]),r("div",[r("label",{staticClass:"mr-2 text-dark"},[t._v("Movie:")]),r("span",[t._v(t._s(t.show.movie.title))])]),r("div",[r("label",{staticClass:"mr-2 text-dark"},[t._v("Date:")]),r("span",[t._v(t._s(t.show.date))])])]),r("div",{staticClass:"d-flex mx-auto col-sm-5 bg-warning center container justify-content-center mb-5 border border-dark text-dark p-2"},[r("div",[r("label",{staticClass:"mr-2 text-dark"},[t._v("Ticket type:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.ticketCategory,expression:"ticketCategory"}],staticClass:"btn border border-dark text-dark p-2 pt-1",staticStyle:{width:"auto"},attrs:{id:"cars"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.ticketCategory=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"normal",selected:""}},[t._v("Normal")]),r("option",{attrs:{value:"student"}},[t._v("Student")]),r("option",{attrs:{value:"retired"}},[t._v("Retired")])])])]),r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"grid-order bg-warning mx-10"},t._l(t.sudokuMatrix,(function(e,a){return r("div",{key:a,staticClass:"grid-row"},[r("span",{staticClass:"grid-cell-row"},[t._v("Line "+t._s(a+1))]),t._l(e,(function(e,s){return r("label",{key:a+"-"+s,ref:"label",refInFor:!0,staticClass:"grid-cell",style:1===t.sudokuMatrix[a][s]?"background-color: red":""},[r("input",{staticStyle:{display:"none"},attrs:{type:"checkbox",id:s},on:{click:function(e){return t.checkItem(a,s)}}}),r("span",{staticClass:"justify-content-sm-center"},[t._v(t._s(t.convert(s)))])])}))],2)})),0)]),r("button",{staticClass:"btn btn-warning btn-lg mx-auto d-flex mt-4 border border-dark",on:{click:t.reserve}},[t._v("Reserve")])],1)},lt=[],ut=r("b85c"),dt=(r("1276"),r("92b0")),mt=r.n(dt),pt=r("aa11"),gt=r.n(pt),ht={name:"Reserve",components:{ErrorCard:B},data:function(){return{size1:0,size2:0,sudokuMatrix:[],ticketCategory:"normal",num:0,isLoading:!0,show:{},errors:[],errorMessage:""}},watch:{asd:function(t){return t.toDateString()}},computed:Object(h["b"])({user:function(t){return t.user}}),created:function(){this.image='"@/assets/emptyPlace.png"',this.fetchShow()},methods:{reserve:function(){for(var t,e=this,r={UserId:null===(t=this.user)||void 0===t?void 0:t.id,ShowId:this.$route.params.id,places:[]},a=0;a<this.size1;a++)for(var s=0;s<this.size2;s++)2!==this.sudokuMatrix[a][s]&&3!==this.sudokuMatrix[a][s]&&4!==this.sudokuMatrix[a][s]||r.places.push({X:a,Y:s,TicketCategory:this.getCategory(this.sudokuMatrix[a][s])});this.user?v.a.post("https://cinemaapplication.azurewebsites.net//api/Rents/",r,{withCredentials:!0}).then((function(t){302===t.status&&e.$router.push({name:"Login",path:"/login"}),console.log(t),200===t.status&&(e.$router.push({name:"Home",path:"/"}),alert("The rent is successfull"))})).catch((function(t){e.errors=[],e.errorMessage="",t.response.data.errors&&(e.errorMessage="Something went wrong",t.response.data.errors.forEach((function(t){e.errors.push(t)}))),window.scrollTo(0,0)})):(this.errorMessage="Please login before send a rent request",window.scrollTo(0,0))},fetchRents:function(){var t=this,e=[];v.a.get("https://cinemaapplication.azurewebsites.net//api/Rents/"+this.$route.params.id).then((function(r){if(e=r.data,0!==e.length){var a,s=Object(ut["a"])(e);try{for(s.s();!(a=s.n()).done;){var n=a.value;t.sudokuMatrix[n.x][n.y]=1,t.checkItem(n.x,n.y)}}catch(o){s.e(o)}finally{s.f()}}}))},fetchShow:function(){var t=this;v.a.get("https://cinemaapplication.azurewebsites.net//api/Shows/show/"+this.$route.params.id).then((function(e){t.show=e.data,t.show.date=t.show.date.split("T")[0]+" "+t.show.date.split("T")[1].split(".")[0],t.size1=e.data.room["heigth"],t.size2=e.data.room["width"],t.initializeGame(),t.fetchRents(),t.$forceUpdate()}))},getType:function(){switch(this.ticketCategory){case"normal":return 2;case"student":return 3;case"retired":return 4;default:return 0}},getCategory:function(t){switch(t){case 2:return"normal";case 3:return"student";case 4:return"retired"}},getColor:function(){switch(this.ticketCategory){case"normal":return"green";case"student":return"blue";case"retired":return"white"}},checkItem:function(t,e){this.isLoading=!this.isLoading;var r=t*this.size2+e;1!==this.sudokuMatrix[t][e]?(this.sudokuMatrix[t][e]=0===this.sudokuMatrix[t][e]?this.getType():0,2===this.sudokuMatrix[t][e]||3===this.sudokuMatrix[t][e]||4===this.sudokuMatrix[t][e]?(this.$refs.label[r].style.backgroundImage="url("+mt.a+")",this.$refs.label[r].style.backgroundColor=this.getColor(),this.$refs.label[r].classList.remove("bg-warning")):(this.$refs.label[r].style.backgroundImage="url("+gt.a+")",this.$refs.label[r].style.backgroundColor="none",this.$refs.label[r].classList.add("bg-warning")),this.$forceUpdate()):(this.$refs.label[r].style.backgroundImage="url("+mt.a+")",this.$refs.label[r].style.backgroundColor="red",this.$refs.label[r].classList.remove("bg-warning"))},convert:function(t){return String.fromCharCode(65+t)},initializeGame:function(){this.isGameStarted=!0,this.sudokuMatrix=new Array(this.size1);for(var t=0;t<this.size1;t++){this.sudokuMatrix[t]=new Array(this.size2);for(var e=0;e<this.size2;e++)this.sudokuMatrix[t][e]=0}}}},ft=ht,vt=(r("4b94"),Object(u["a"])(ft,ct,lt,!1,null,"cd3b3b92",null)),bt=vt.exports,Ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.user?r("div",[t.error.length>0?r("ErrorCard",{staticClass:"col-sm-6 mx-auto",attrs:{"error-message":t.error}}):t._e(),r("div",{staticClass:"card col-sm-5 m-2 mx-auto m-2 p-3 border-1 border-dark bg-warning text-dark"},[r("h3",{},[t._v("Opinion")]),r("div",{staticClass:"form-check"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.anonymus,expression:"anonymus"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"exampleCheck1"},domProps:{checked:Array.isArray(t.anonymus)?t._i(t.anonymus,null)>-1:t.anonymus},on:{change:function(e){var r=t.anonymus,a=e.target,s=!!a.checked;if(Array.isArray(r)){var n=null,o=t._i(r,n);a.checked?o<0&&(t.anonymus=r.concat([n])):o>-1&&(t.anonymus=r.slice(0,o).concat(r.slice(o+1)))}else t.anonymus=s}}}),r("label",{staticClass:"form-check-label",attrs:{for:"exampleCheck1"}},[t._v("Would you like to add anonymous comment? ")])]),r("br"),r("div",{staticClass:"form-group"},[r("label",[t._v("Comment message")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control form-control-lg",attrs:{type:"email"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[t._v("Rating")]),r("b-form-rating",{staticClass:"border border-dark form-control form-control-lg",attrs:{variant:"warning"},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1),r("button",{staticClass:"btn btn-dark btn-lg btn-block",on:{click:function(e){return t.addOpinion()}}},[t._v("Rate")])])],1):r("div",{staticClass:"mx-auto col-sm-6"},[r("ErrorCard",{attrs:{"error-message":"You need to login to add your opinion"}})],1)},wt=[],xt=(r("a4d3"),r("e01a"),{name:"OpinionAdder",components:{ErrorCard:B},data:function(){return{rating:0,description:"",anonymus:!1,error:""}},computed:Object(h["b"])({user:function(t){return t.user}}),methods:{addOpinion:function(){var t,e=this,r={GuestId:null===(t=this.user)||void 0===t?void 0:t.id,MovieId:this.$route.params.id,Anonymus:this.anonymus,Description:this.description,Ranking:this.rating};v.a.post("https://cinemaapplication.azurewebsites.net//api/Opinions/",r,{withCredentials:!0}).then((function(t){200===t.status&&e.$router.push({name:"Movie",path:"/"+e.$route.params.id})})).catch((function(){e.error="You have to add comment message"}))}}}),_t=xt,yt=(r("be7a"),Object(u["a"])(_t,Ct,wt,!1,null,"3f98eae8",null)),kt=yt.exports,Et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.loading?r("div",{staticClass:"text-center"},[r("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"warning",label:"Text Centered"}})],1):r("div",{staticClass:"mx-auto col-sm-7"},[r("Datepicker"),0!=t.error.length?r("Errorcard",{staticClass:"mx-auto d-flex p-2",attrs:{"error-message":t.error}}):t._e(),t._l(t.programs,(function(t){return r("Card",{key:t.title,attrs:{element:t,site:"Main"}})}))],2)])},Mt=[],St=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{staticClass:"mb-3 bg-warning text-dark border-dark mh-10 show",attrs:{"img-src":t.element.image,center:"","img-alt":"Card image","img-left":""}},[r("b-card-title",[r("router-link",{staticClass:"text-dark text-decoration-none",attrs:{to:"movie/"+t.element.id}},[r("div",[t._v(t._s(t.element.title)+" "),0!=t.element.length?r("span",[t._v("("+t._s(t.element.length)+" min)")]):t._e()])])],1),r("b-card-text",[r("b-card-text",[t._v(" Shows: "),r("div",{staticClass:"vertical-scroll"},[r("v-chip-group",{attrs:{"active-class":"orange accent-4 white--text",column:""}},t._l(t.element.shows,(function(e){return r("v-chip",{key:e.id},[r("router-link",{attrs:{to:"reserve/"+e.id}},[r("span",[t._v(" "+t._s(t.timeChange(e.date))+" ")])])],1)})),1)],1)])],1)],1)},Nt=[],$t={props:["element","site"],data:function(){return{visible:"false",actorsString:""}},methods:{timeChange:function(t){var e=new Date(t);return e.getMinutes()<10?e.getHours()+":0"+e.getMinutes():e.getHours()+":"+e.getMinutes()}}},Pt=$t,Ot=(r("22e8"),Object(u["a"])(Pt,St,Nt,!1,null,"31573fb0",null)),jt=Ot.exports;T()(Ot,{VChip:z["a"],VChipGroup:A["a"]});var Ut=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mx-auto container"},[t.date?r("div",{staticClass:"d-flex justify-content-sm-center mb-5 p-2  bg-warning border border-dark"},[r("label",{staticClass:"mr-2 text-dark ",staticStyle:{padding:"0.2em"}},[t._v("Pick a date:")]),r("datepicker",{staticClass:"text-dark",attrs:{"disabled-dates":t.disabledDates,placeholder:"Pick a date"},on:{input:function(e){return t.changeDate()}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1):r("ErrorCard",{attrs:{"error-message":"No shows available"}})],1)},Tt=[],It=r("fa33"),zt={name:"Picker",components:{Datepicker:It["a"],ErrorCard:B},data:function(){return{disabledDates:{to:null,from:null},date:new Date}},created:function(){this.fetchDates()},methods:{changeDate:function(){this.$store.dispatch("setFilterDate",this.date)},fetchDates:function(){var t=this;v.a.get("https://cinemaapplication.azurewebsites.net//api/Shows/availableDates/").then((function(e){console.log("date:",e.data),0==e.data.length?(t.date=null,t.$store.dispatch("setFilterDate",t.date)):(t.disabledDates.to=new Date(e.data[0]),t.disabledDates.from=new Date(e.data[1]))}))}}},At=zt,Dt=Object(u["a"])(At,Ut,Tt,!1,null,null,null),Lt=Dt.exports,Ht={name:"Program",components:{Datepicker:Lt,Card:jt,Errorcard:B},data:function(){return{programs:[],error:"",loading:!0}},computed:Object(h["b"])({filterDate:function(t){return t.filterDate}}),watch:{filterDate:function(){this.fetchShows()}},created:function(){this.fetchShows()},methods:{fetchShows:function(){var t=this;this.programs=[],this.error="",v.a.get("https://cinemaapplication.azurewebsites.net//api/Shows/"+this.filterDate.toDateString()).then((function(e){0==e.data.length?t.error="No shows available on the chosen date":(t.programs=e.data,t.programs.forEach((function(t){var e="data:image/jpg;base64,"+t.image;t.image=e}))),t.loading=!1})).catch((function(){t.error="Something went wrong in our side",t.loading=!1}))}}},Rt=Ht,Ft=(r("74ac"),Object(u["a"])(Rt,Et,Mt,!1,null,null,null)),Gt=Ft.exports,Vt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card col-sm-5 m-2 mx-auto m-2 p-3 border-1 border-dark bg-warning text-dark"},[t.errorMessage.length>0?r("ErrorCard",{staticClass:"col-sm-6 mx-auto",attrs:{"error-message":t.errorMessage,"errors-list":t.errors}}):t._e(),r("h3",{},[t._v("Sign Up")]),r("div",{staticClass:"form-group"},[r("label",[t._v("User Name")]),r("b-form-input",{staticClass:"form-control form-control-lg",attrs:{type:"text"},model:{value:t.user.UserName,callback:function(e){t.$set(t.user,"UserName",e)},expression:"user.UserName"}}),r("InputError",{attrs:{errors:t.Errors.UserName}})],1),r("div",{staticClass:"form-group"},[r("label",[t._v("Full Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.Name,expression:"user.Name"}],staticClass:"form-control form-control-lg",attrs:{type:"text"},domProps:{value:t.user.Name},on:{input:function(e){e.target.composing||t.$set(t.user,"Name",e.target.value)}}}),r("InputError",{attrs:{errors:t.Errors.Name}})],1),r("div",{staticClass:"form-group"},[r("label",[t._v("Email address")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.Email,expression:"user.Email"}],staticClass:"form-control form-control-lg",attrs:{type:"email"},domProps:{value:t.user.Email},on:{input:function(e){e.target.composing||t.$set(t.user,"Email",e.target.value)}}}),r("InputError",{attrs:{errors:t.Errors.Email}})],1),r("div",{staticClass:"form-group"},[r("label",[t._v("Address")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.Address,expression:"user.Address"}],staticClass:"form-control form-control-lg",attrs:{type:"text"},domProps:{value:t.user.Address},on:{input:function(e){e.target.composing||t.$set(t.user,"Address",e.target.value)}}}),r("InputError",{attrs:{errors:t.Errors.Address}})],1),r("div",{staticClass:"form-group"},[r("label",[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.Password,expression:"user.Password"}],staticClass:"form-control form-control-lg",attrs:{type:"password"},domProps:{value:t.user.Password},on:{input:function(e){e.target.composing||t.$set(t.user,"Password",e.target.value)}}}),r("InputError",{attrs:{errors:t.Errors.Password}})],1),r("div",{staticClass:"form-group"},[r("label",[t._v("Credit card number")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.CreditCardNumber,expression:"user.CreditCardNumber"}],staticClass:"form-control form-control-lg",attrs:{type:"text"},domProps:{value:t.user.CreditCardNumber},on:{input:function(e){e.target.composing||t.$set(t.user,"CreditCardNumber",e.target.value)}}}),r("InputError",{attrs:{errors:t.Errors.CreditCardNumber}})],1),r("button",{staticClass:"btn btn-dark btn-lg btn-block",on:{click:t.signupUser}},[t._v("Sign Up")]),r("p",{staticClass:"forgot-password text-right pt-2"},[t._v(" Already registered "),r("router-link",{attrs:{to:{name:"Login"}}},[t._v("sign in?")])],1)],1)},Bt=[],Wt=(r("b64b"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",t._l(t.errors,(function(e){return r("div",{key:e},[r("span",{staticClass:"text-danger"},[t._v(t._s(e))])])})),0)}),Yt=[],qt={name:"InputErrorComponent",props:["errors"]},Jt=qt,Xt=Object(u["a"])(Jt,Wt,Yt,!1,null,null,null),Kt=Xt.exports,Qt={"Content-Type":"application/json","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept, Authorization","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, OPTIONS",withCredentials:!0},Zt=Qt,te={name:"SignupComponent",components:{InputError:Kt,ErrorCard:B},data:function(){return{Errors:{UserName:[],Name:[],Email:[],Address:[],Password:[],CreditCardNumber:[]},user:{UserName:"",Name:"",Email:"",Address:"",Password:"",CreditCardNumber:""},errorMessage:"",errors:[]}},methods:{signupUser:function(){var t=this;this.clearErrors(),v.a.post("https://cinemaapplication.azurewebsites.net//api/Users/register/",this.user,{headers:Zt}).then((function(e){console.log(e),t.programs=e.data,t.$router.push({name:"Home",path:"/"})})).catch((function(e){t.AddErrors(e.response.data.errors),e.response.data.regerror&&(console.log("asd"),t.errorMessage=e.response.data.regerror[0],e.response.data.errors[0].split("\n").forEach((function(e){""!==e&&t.errors.push(e)}))),window.scrollTo(0,0)}))},AddErrors:function(t){var e=this;Object.keys(t).forEach((function(r){switch(r){case"UserName":t.UserName.forEach((function(t){e.Errors.UserName.push(t)}));break;case"Name":t.Name.forEach((function(t){e.Errors.Name.push(t)}));break;case"Email":t.Email.forEach((function(t){e.Errors.Email.push(t)}));break;case"Address":t.Address.forEach((function(t){e.Errors.Address.push(t)}));break;case"Password":t.Password.forEach((function(t){e.Errors.Password.push(t)}));break;case"CreditCardNumber":t.CreditCardNumber.forEach((function(t){e.Errors.CreditCardNumber.push(t)}));break}}))},clearErrors:function(){this.Errors={UserName:[],Name:[],Email:[],Address:[],Password:[],CreditCardNumber:[]}}}},ee=te,re=Object(u["a"])(ee,Vt,Bt,!1,null,null,null),ae=re.exports,se=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.errorMessage||t.errors.length>0?r("ErrorCard",{staticClass:"col-sm-6 mx-auto",attrs:{"error-message":t.errorMessage,"errors-list":t.errors}}):t._e(),r("div",{staticClass:"card col-sm-6 m-2 mx-auto m-1 p-3 border-1 border-dark bg-warning text-dark"},[r("h3",[t._v("Sign In")]),r("div",{staticClass:"form-group"},[r("label",[t._v("Email address")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.loggedInUser.UserName,expression:"loggedInUser.UserName"}],staticClass:"form-control form-control-lg",attrs:{type:"email"},domProps:{value:t.loggedInUser.UserName},on:{input:function(e){e.target.composing||t.$set(t.loggedInUser,"UserName",e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.loggedInUser.Password,expression:"loggedInUser.Password"}],staticClass:"form-control form-control-lg",attrs:{type:"password"},domProps:{value:t.loggedInUser.Password},on:{input:function(e){e.target.composing||t.$set(t.loggedInUser,"Password",e.target.value)}}})]),r("button",{staticClass:"btn btn-dark btn-lg border border-1 border-dark btn-block border-rounded",on:{click:t.loginUser}},[t._v("Sign In")])])],1)},ne=[],oe={name:"LoginComponent",components:{ErrorCard:B},data:function(){return{loggedInUser:{UserName:"",Password:""},errors:[],errorMessage:""}},computed:Object(h["b"])({user:function(t){return t.user}}),methods:{loginUser:function(){var t=this;v.a.post("https://cinemaapplication.azurewebsites.net//api/Users/login/",this.loggedInUser,{withCredentials:!0}).then((function(e){200===e.status&&(t.$router.push({name:"Home",path:"/"}),t.$store.dispatch("setUser",e.data))})).catch((function(e){if(t.errors=[],t.errorMessage="",e.response.data.errors)for(var r in t.errorMessage="Something went wrong",e.response.data.errors)console.log(r),e.response.data.errors[r].forEach((function(e){t.errors.push(e)}));e.response.data.loginError&&(t.errorMessage=e.response.data.loginError[0]),console.log(e.response)}))}}},ie=oe,ce=Object(u["a"])(ie,se,ne,!1,null,null,null),le=ce.exports,ue=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.loading?r("div",{staticClass:"text-center"},[r("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"warning",label:"Text Centered"}})],1):r("div",[t.error.length>0?r("ErrorCard",{staticClass:"col-sm-6 mx-auto",attrs:{"error-message":t.error}}):r("b-card",{staticClass:"col-sm-6 p-2 mx-auto m-1 bg-warning text-dark border border-dark",attrs:{"img-src":t.movie.image,"img-height":"500","img-width":"300","img-alt":"Card image","img-top":""}},[r("b-card-title",{staticStyle:{"font-size":"32px"}},[t._v(" "+t._s(t.movie.title)+" "),r("br"),t._v(" ("+t._s(t.movie.length)+" perc) ")]),r("br"),r("b-card-text",{staticStyle:{"font-size":"20px"}},[t._v(" Director: "+t._s(t.movie.director)+" ")]),r("br"),r("b-card-text",{staticStyle:{"font-size":"20px"}},[t._v(" Actors: "),r("ul",t._l(t.movie.actors,(function(e){return r("li",{key:e.name},[t._v(" "+t._s(e.name)+" ")])})),0)]),r("br"),r("b-card-text",{staticStyle:{"font-size":"20px"}},[t._v(" Leírás: "),r("br"),t._v(" "+t._s(t.movie.description)+" ")]),r("br"),t.movie.trailer?r("b-embed",{attrs:{type:"iframe",aspect:"16by9",src:t.movie.trailer,allowfullscreen:""}}):t._e(),r("router-link",{staticClass:"btn btn-dark mt-5 mb-2",attrs:{to:"/addOpinion/"+t.movie.id,tag:"button"}},[t._v("Add Opinion")]),r("Opinions",{attrs:{opinions:t.opinions[0]}})],1)],1)])},de=[],me=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.opinions.length>0?r("div",{staticClass:"overflow-auto"},[t._l(t.itemsForList,(function(e){return r("div",{key:e.id,staticClass:"card mb-2 border border-dark"},[r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[t._v("User: "+t._s(!0===e.anonymus?"Anonymus":e.guestName))]),r("h6",{staticClass:"card-subtitle mb-2"},[t._v("Rating: "+t._s(e.ranking))]),r("p",{staticClass:"card-text"},[t._v("Comment: "+t._s(e.description))])])])})),r("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage,align:"center"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],2):r("div",[r("p",{staticStyle:{"font-size":"20px"}},[t._v("No opinions")])])},pe=[],ge={name:"Opinions",props:["opinions"],data:function(){return{perPage:3,currentPage:1}},computed:{rows:function(){return this.opinions.length},itemsForList:function(){return this.opinions.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage)}}},he=ge,fe=(r("d7d4"),Object(u["a"])(he,me,pe,!1,null,null,null)),ve=fe.exports,be={name:"MovieDetails",components:{Opinions:ve,ErrorCard:B},data:function(){return{error:"",movie:{},opinions:[],loading:!0}},created:function(){this.fetchMovies(),this.fetchOpinions()},methods:{fetchMovies:function(){var t=this;v.a.get("https://cinemaapplication.azurewebsites.net//api/Movies/"+this.$route.params.id).then((function(e){t.movie=e.data,void 0===e.data&&(t.error="Something went wront with fetching"),console.log(t.movie);var r="data:image/jpg;base64,"+t.movie.image;t.movie.image=r,t.loading=!1})).catch((function(e){console.log(e),t.error="Something went wrong with fetching movie details.",t.loading=!1}))},fetchOpinions:function(){var t=this;v.a.get("https://cinemaapplication.azurewebsites.net//api/Opinions/"+this.$route.params.id).then((function(e){t.opinions.push(e.data)})).catch((function(){t.error="Something went wrong with fetching movie opinions.",window.scrollTo(0,0)}))}}},Ce=be,we=(r("1c53"),Object(u["a"])(Ce,ue,de,!1,null,"197ccf48",null)),xe=we.exports;a["default"].use(M["a"]);var _e=[{path:"/",name:"Home",component:J},{path:"/program",name:"Programs",component:Gt},{path:"/addOpinion/:id",name:"AddOpinion",component:kt},{path:"/movies",name:"Movies",component:it},{path:"/movie/:id",name:"Movie",component:xe},{path:"/reserve/:id",name:"Reserve",component:bt},{path:"/sign",Name:"Sign",component:ae},{path:"/login",name:"Login",component:le}],ye=new M["a"]({mode:"history",base:"/",routes:_e}),ke=ye,Ee=r("5f5b"),Me=r("b1e0"),Se=(r("2dd8"),r("f309"));a["default"].use(Se["a"]);var Ne=new Se["a"]({});r("f9e3");a["default"].use(h["a"]);var $e=new h["a"].Store({state:{selectedCategory:"",searchText:"",filterDate:new Date,user:null},mutations:{setCategory:function(t,e){t.selectedCategory=e},setSearchText:function(t,e){t.searchText=e},setFilterDate:function(t,e){t.filterDate=e},setUser:function(t,e){t.user=e}},actions:{setCategory:function(t,e){t.commit("setCategory",e)},setSearchText:function(t,e){t.commit("setSearchText",e)},setFilterDate:function(t,e){t.commit("setFilterDate",e)},setUser:function(t,e){t.commit("setUser",e)}},modules:{},getters:{getCategory:function(t){return t.selectedCategory},getText:function(t){return t.searchText},getDate:function(t){return t.filterDate},getLoggedUser:function(t){return t.user}}}),Pe=r("2b27"),Oe=r.n(Pe);a["default"].use(Se["a"]),a["default"].use(Oe.a),a["default"].use(Ee["a"]),a["default"].use(Me["a"]),a["default"].config.productionTip=!1,new a["default"]({router:ke,vuetify:Ne,store:$e,render:function(t){return t(E)}}).$mount("#app")},5731:function(t,e,r){},5842:function(t,e,r){},"74ac":function(t,e,r){"use strict";r("a6d2")},"85ec":function(t,e,r){},9040:function(t,e,r){},"92b0":function(t,e,r){t.exports=r.p+"img/reservedPlace.833c8a3d.png"},a6d2:function(t,e,r){},aa11:function(t,e,r){t.exports=r.p+"img/emptyPlace.c06d4482.png"},aae5:function(t,e,r){},be7a:function(t,e,r){"use strict";r("f13c")},cf05:function(t,e,r){t.exports=r.p+"img/logo.92eacd95.png"},d7d4:function(t,e,r){"use strict";r("9040")},e8cb:function(t,e,r){},f13c:function(t,e,r){},fca3:function(t,e,r){"use strict";r("5842")}});
//# sourceMappingURL=app.5790d998.js.map